\hypertarget{class_benchmark}{\section{Benchmark Class Reference}
\label{class_benchmark}\index{Benchmark@{Benchmark}}
}


{\ttfamily \#include $<$Benchmark.\-hpp$>$}



\subsection{Detailed Description}
\hyperlink{class_benchmark}{Benchmark} is used to easily set up a benchmarking environment for any function. The class has a high amount of dynamicity and allows for virtually any function to be called, even virtual functions.


\begin{DoxyCode}
*  \textcolor{comment}{// Declare a new benchmarking unit}
*  \hyperlink{class_benchmark}{Benchmark} ben(\textcolor{stringliteral}{"If statement"}, 10000);
* 
*  \textcolor{comment}{// Run the benchmark}
*  ben.run
*  (
*      \textcolor{comment}{// Use this lambda function}
*      [](\textcolor{keywordtype}{int} value)
*      \{
*          \textcolor{keywordflow}{if} (value % 2)
*              value = 0;
*      \},
*      0 \textcolor{comment}{// With this as argument}
*  );
* 
*  \textcolor{comment}{// Output the results to the std::cout std::ostream}
*  std::cout << ben << std::endl;
*  
\end{DoxyCode}


For virtual functions and non-\/lambda functions; the syntax that goes into run is forwarded into std\-::bind(...), so the argument order is the same.


\begin{DoxyCode}
*  \textcolor{comment}{// Declare and define a base and derived class}
*  \textcolor{keyword}{class }Base\{\textcolor{keyword}{public}: \textcolor{keyword}{virtual} \textcolor{keywordtype}{void} fnc(\textcolor{keyword}{volatile} \textcolor{keywordtype}{int} &num)\{\} \textcolor{keyword}{virtual} ~Base()\{\}\};
*  \textcolor{keyword}{class }Derived : \textcolor{keyword}{public} Base\{\textcolor{keyword}{public}:\textcolor{keyword}{virtual} \textcolor{keywordtype}{void} fnc(\textcolor{keyword}{volatile} \textcolor{keywordtype}{int} &num)\textcolor{keyword}{ override}\{num++;\}\};
* 
*  \textcolor{comment}{// Declare a number volatile to avoid compiler optimizations}
*  \textcolor{keyword}{volatile} \textcolor{keywordtype}{int} number = 0;
* 
*  \textcolor{comment}{// Create an object of the class}
*  Base *bptr = \textcolor{keyword}{new} Derived;
* 
*  \textcolor{comment}{// Declare a benchmarking object, 100k iterations}
*  \hyperlink{class_benchmark}{Benchmark} virtual\_call(\textcolor{stringliteral}{"Virtual method call"}, 10000000);
* 
*  \textcolor{comment}{// Run the benchmark}
*  virtual\_call.run
*  (
*      &Base::fnc, \textcolor{comment}{// use this function}
*      bptr, \textcolor{comment}{// and this object pointer (this)}
*      std::ref(number) \textcolor{comment}{// with this argument, must explicitly use std::ref}
*  );
* 
*  \textcolor{comment}{// Delete the pointer}
*  \textcolor{keyword}{delete} bptr;
* 
*  \textcolor{comment}{// Output the data to our console window}
*  std::cout << virtual\_call;
* 
*  \textcolor{comment}{// Now we know for sure if the virtual function was delegated or not:}
*  std::cout << \textcolor{stringliteral}{"number: "} << number << std::endl;
*  
\end{DoxyCode}
 

The documentation for this class was generated from the following file\-:\begin{DoxyCompactItemize}
\item 
include/\-Benchmark/Benchmark.\-hpp\end{DoxyCompactItemize}
